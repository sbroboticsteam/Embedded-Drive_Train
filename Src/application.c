/*-----------------------------------------------------------------------
-   File Name:		application.c
-   Description:	Main for our application code.
-   Date:					8/24/2018
-   Name:					John Boccio
- Stony Brook University Robotics
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
- Private Includes
-----------------------------------------------------------------------*/
#include "application.h"
#include "motor_control.h"
/*-----------------------------------------------------------------------
- Private Defines & Macros
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
- Private Typedefs & Enumerations
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
- Private Variables
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
- Private External References
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
- Private Function Prototypes
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
- Public Functions
-----------------------------------------------------------------------*/

/*-----------------------------------------------------------------------
-   app_run
-   Parameters:
-     void
-   Returns:
-     void
-   Description:
-    	Our main loop for the application code.
-----------------------------------------------------------------------*/
void app_run(void) {
  motors_init();
  uint32_t pwm_val = 3000;

  for (uint8_t i = 0; i < MTR_COUNT; i++) {
    set_mtr_pwm_dir( (mtr_num_t) i, pwm_val, FORWARD);
  }

  while (1) {
    motor_task();
  }
}

/*-----------------------------------------------------------------------
- Private Functions
-----------------------------------------------------------------------*/
